(self.webpackChunknhttp_website_docu=self.webpackChunknhttp_website_docu||[]).push([[9714],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return c},kt:function(){return f}});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var p=r.createContext({}),i=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},c=function(e){var n=i(e.components);return r.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=i(t),f=o,m=d["".concat(p,".").concat(f)]||d[f]||u[f]||a;return t?r.createElement(m,l(l({ref:n},c),{},{components:t})):r.createElement(m,l({ref:n},c))}));function f(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,l=new Array(a);l[0]=d;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s.mdxType="string"==typeof e?e:o,l[1]=s;for(var i=2;i<a;i++)l[i]=t[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},2824:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return i},toc:function(){return c},default:function(){return d}});var r=t(2122),o=t(9756),a=(t(7294),t(3905)),l=["components"],s={sidebar_position:3},p="Cheat Sheet",i={unversionedId:"cheatsheet",id:"cheatsheet",isDocsHomePage:!1,title:"Cheat Sheet",description:"Return Directly",source:"@site/docs/cheatsheet.md",sourceDirName:".",slug:"/cheatsheet",permalink:"/docs/cheatsheet",editUrl:"https://github.com/nhttp/webdocs/edit/master/docs/cheatsheet.md",version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/docs/installation"},next:{title:"Usage",permalink:"/docs/usage/usage"}},c=[{value:"Return Directly",id:"return-directly",children:[]},{value:"Template Engine",id:"template-engine",children:[]},{value:"Upload",id:"upload",children:[]},{value:"Routing Controller",id:"routing-controller",children:[]}],u={toc:c};function d(e){var n=e.components,t=(0,o.Z)(e,l);return(0,a.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"cheat-sheet"},"Cheat Sheet"),(0,a.kt)("h3",{id:"return-directly"},"Return Directly"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'const app = nhttp();\n\n// send text\napp.get("/text", () => "text");\n\n// send json\napp.get("/json", () => ({ name: "john" }));\n\n// send Response\napp.get("/res", () => new Response("hello"));\n\n// send file\napp.get("/file", ({ response }) => {\n  response.type("css");\n  return Deno.readFile("path/to/file.css");\n\n  // Bun\n  // return Bun.file("path/to/file.css");\n\n  // Nodejs\n  // return fs.readFileSync("path/to/file.css");\n});\n\n// download file\napp.get("/download", ({ response }) => {\n  response.type("css").attachment();\n  return Deno.readFile("path/to/file.css");\n  \n  // Bun\n  // return Bun.file("path/to/file.css");\n\n  // Nodejs\n  // return fs.readFileSync("path/to/file.css");\n});\n')),(0,a.kt)("h3",{id:"template-engine"},"Template Engine"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'import ejs from "npm:ejs";\n\nconst app = nhttp();\n\n// in folder public and .ejs extensions.\napp.engine(ejs.renderFile, { base: "public", ext: "ejs" });\n\napp.get("/", ({ response }) => {\n  response.render("index", { title: "Hello, World" });\n});\n')),(0,a.kt)("h3",{id:"upload"},"Upload"),(0,a.kt)("h4",{id:"deno"},"Deno"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'const app = nhttp();\n\n// handle upload multipart/form-data\nconst upload = multipart.upload({ name: "image" });\n\napp.post("/upload", upload, (rev) => {\n  console.log(rev.file);\n  console.log(rev.body);\n  return "success upload file";\n});\n')),(0,a.kt)("h4",{id:"upload-with-bun--node"},"Upload With Bun / Node"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'const app = nhttp();\n\n// handle upload multipart/form-data for Bun/Nodejs\nconst upload = multipart.upload({ \n  name: "image",\n  writeFile: Bun.write /* or node, fs.writeFileSync */\n});\n\napp.post("/upload", upload, (rev) => {\n  console.log(rev.file);\n  console.log(rev.body);\n  return "success upload file";\n});\n')),(0,a.kt)("h3",{id:"routing-controller"},"Routing Controller"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},'import { nhttp, RequestEvent } from "https://deno.land/x/nhttp@1.1.15/mod.ts";\nimport { Get, Post, Status, Controller } from "https://deno.land/x/nhttp@1.1.15/lib/controller.ts";\n\n@Controller("/hello")\nclass HelloController {\n\n  @Get("/")\n  hello(rev: RequestEvent) {\n    return "Hello, World";\n  }\n\n  @Status(201)\n  @Post("/")\n  save(rev: RequestEvent) {\n    return "Success save";\n  }\n\n}\n\nconst app = nhttp();\n\napp.use("/api/v1", new UserController());\n// or multi controllers\n// app.use("/api/v1", [new UserController(), new HomeController()]);\n\napp.listen(8000);\n')))}d.isMDXComponent=!0}}]);
---
sidebar_position: 6
---

# Cloudflare Workers

this module generated by : 
```bash
esbuild mod.ts --bundle --platform=node --outfile=cf_workers/index.js --target=node10.4
```

## Usage With Wrangler

### Install deps

```bash
npm install @cloudflare/wrangler -g
npm install nhttp-workers --save
```

### Generate App

```bash
wrangler generate app_name
cd app_name
```

### Webpack

Modify wrangler.toml

```toml
name = "app_name"
type = "webpack"

account_id = "your_account_id"
workers_dev = true
route = ""
zone_id = ""
```

### Code

Modify index.js

```js
import { NHttp } from "nhttp-workers";

const app = new NHttp();

app.get("/hello", ({ response }) => {
  return response.send("hello");
});

// directly
app.get("/hello2", () => {
  return "hello";
});

// fetch / listen
addEventListener("fetch", app.fetchEventHandler());
```

### Run Development

```bash
wrangler dev
```

### With Durable Object

```js
import { NHttp } from "nhttp-workers";

const app = new NHttp();

app.get("/hello/:name", ({ params }) => {
  return "Hello " + params.name;
});

// class Durable Object
export class DurableObjectExample {
  constructor(state, env) {
    // code
  }

  async fetch(request) {
    return app.handleRequest(request);
  }
}
```

More info https://developers.cloudflare.com/workers/